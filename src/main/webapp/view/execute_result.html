<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>批改结果</title>

    <meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
    <meta http-equiv="description" content="this is my page">

    #include("_css.html")

</head>
<body>

#include("_navbar.html")


<div class="container-fluid">

    <div class="row">
        <div class="col-sm-3 col-md-2 sidebar">
            <ul class="nav nav-sidebar">
                #include("_sidebar.html")
            </ul>
        </div>
        <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
            <div class="row">
                <div class="breadcrumb">
                    <li><a href="/info/classes">班级列表</a></li>
                    <li><a href="/info/assignments/#(assignment.classId)">作业列表</a></li>
                    <li><span>作业详情</span></li>
                </div>
            </div>
            <div class="row">
                <div class="col-md-10">
                    <div class="pull-right">
                        <a class="btn btn-primary btn-sm"
                           href="/review/allExcel?assignmentId=#(assignment.assignmentId)">导出EXCEL</a>
                        #if(assignment.assignmentStatus==1)
                        <label class="text-danger">已发布</label>
                        #else
                        <a class="btn btn-primary btn-sm confirm-release-btn">确认发布</a>
                        #end
                    </div>
                </div>
            </div>

            #include("_execute_result_table.html")

        </div>
    </div>
</div>
</div>


#include("_js.html")

</body>
<script>

    $(function () {

        $('[data-toggle="tooltip"]').tooltip();

        $('.detail-info-btn').click(function () {
            $($(this).data('target')).modal('toggle');
        });


        $('.violation').click(function () {
            layer.open({
                type: 1,
                area: ['600px', '240px'], //宽高
                content: $(this).prev().html()
            });
        });

        $('.compile-error').click(function () {
            layer.open({
                type: 1,
                area: ['400px', '240px'], //宽高
                content: $(this).prev().html()
            });
        });

        $('.confirm-release-btn').click(function () {
            layer.confirm('是否确认发布吗？', {
                btn: ['确认', '取消']
            }, function (index, layero) {
                window.location.href = "/assignment/confirmRelease?assignmentId=#(assignment.assignmentId)";
            }, function (index) {
            });
        })
    });
</script>
</html>
