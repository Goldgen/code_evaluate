<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>登录</title>

    <meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
    <meta http-equiv="description" content="this is my page">

    #include("_css.html")
    <link rel="stylesheet" href="../statics/css/login.css" type="text/css">

<body>
<div class="container">
    <div class="row">
        <div class="col-sm-8" id="main">
            <div class="row">
                <div class="col-sm-3">

                </div>

                <div class="col-sm-6">
                    <form class="form-horizontal" action="/login"
                          method="POST">
                        <div class="form-group">
                            <label id="form-title" class="col-sm-offset-3 col-sm-9">作业批改系统</label>
                        </div>

                        <div class="alert alert-danger #if(errorType!='sessionInvalid')hidden#end">
                            Session过期啦~ 请重新登陆
                        </div>

                        <div class="alert alert-danger #if(errorType!='notTeacher')hidden#end">
                            只有教师才能登录哦
                        </div>

                        <div class="form-group">
                            <label class="col-sm-3 control-label">学工号</label>
                            <div class="col-sm-9">
                                <input type="text" class="form-control" name="userId" placeholder="请输入学工号"
                                       data-com.agilebits.onepassword.user-edited="yes">
                                <span class="text-danger #if(errorType!='idEmpty')hidden#end">#if(errorType=='idEmpty')请输入学工号#end</span>
                                <span class="text-danger #if(errorType!='idWrong')hidden#end">#if(errorType=='idWrong')此学工号不存在#end</span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-3 control-label">密码</label>
                            <div class="col-sm-9">
                                <input type="password" class="form-control" id="password-plain"
                                       placeholder="请输入密码" data-com.agilebits.onepassword.user-edited="yes">
                                <span class="text-danger #if(errorType!='pwdEmpty')hidden#end">#if(errorType=='pwdEmpty')请输入密码#end</span>
                                <span class="text-danger #if(errorType!='pwdWrong')hidden#end">#if(errorType=='pwdWrong')密码错误#end</span>
                                <input type="hidden" name="password" id="password">
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-sm-offset-3 col-sm-9">
                                <button type="submit" class="btn btn-primary" id="login-btn">登&nbsp;&nbsp;录</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>



#include("_js.html")
<script type="text/javascript" src="/statics/js/jquery.md5.js"></script>
<script>
    $(function () {
        $("#login-btn").click(function(e){
            var plain = $('#password-plain').val();
            if (plain.replace(/(^\s*)|(\s*$)/g, "").length == 0) {
                $('#password').val('');
            } else {
                $('#password').val($.md5(plain));
            }
        });
    });
</script>

</body>
</html>